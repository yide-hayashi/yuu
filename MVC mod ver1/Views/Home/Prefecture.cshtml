
@{
    ViewBag.Title = "Prefecture";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var notice = ViewBag.noticeTitle;
    string str = "";
    int count = 0;
    bool flag = false;
    int page = ViewBag.pagecount, displaypage = ViewBag.displaypage;
}

<h2>志工專區</h2>
<h2>公告</h2><div class="notice-more"></div>
<div class="notice-Prefecture">
    @foreach (string[] obj in notice)
    {
        <div class="notice-text">
            <a >@obj[0]</a>&nbsp &nbsp
            @Html.ActionLink(obj[1], "NoticeContent", new { name = obj[1] }, new { @class = "notice-text" })
        </div>
    }


    <div style="text-align:center;">
        @if (page > 5)
        {
            if (displaypage >= 3 && displaypage <= page - 2)
            {
                @Html.ActionLink("|<", "Prefecture", new { page = displaypage - 1 }) @:&nbsp;
                @Html.ActionLink("上一頁", "Prefecture", new { page = displaypage - 1 })@:&nbsp;
                @Html.ActionLink((displaypage - 2).ToString(), "Prefecture", new { page = displaypage - 2 })@:&nbsp;
                @Html.ActionLink((displaypage - 1).ToString(), "Prefecture", new { page = displaypage - 1 })@:&nbsp;
                @Html.Label((displaypage).ToString())@:&nbsp;
                @Html.ActionLink((displaypage + 1).ToString(), "Prefecture", new { page = displaypage + 1 })@:&nbsp;
                @Html.ActionLink((displaypage + 2).ToString(), "Prefecture", new { page = displaypage + 2 })@:&nbsp;
                @Html.ActionLink("下一頁", "Prefecture", new { page = displaypage + 1 })@:&nbsp;
                @Html.ActionLink(">|", "Prefecture", new { page = page })@:&nbsp;

            }
            else if (displaypage == 1)
            {
                @Html.Label((displaypage).ToString()) @:&nbsp;
                @Html.ActionLink((displaypage + 1).ToString(), "Prefecture", new { page = displaypage + 1 })@:&nbsp;
                @Html.ActionLink((displaypage + 2).ToString(), "Prefecture", new { page = displaypage + 2 })@:&nbsp;
                @Html.ActionLink((displaypage + 3).ToString(), "Prefecture", new { page = displaypage + 3 })@:&nbsp;
                @Html.ActionLink((displaypage + 4).ToString(), "Prefecture", new { page = displaypage + 4 })@:&nbsp;
                @Html.ActionLink("下一頁", "Prefecture", new { page = displaypage + 1 }) @:&nbsp;
                @Html.ActionLink(">|", "Prefecture", new { page = page })@:&nbsp;
        }
            else if (displaypage == 2)
            {
                @Html.ActionLink((displaypage - 1).ToString(), "Prefecture", new { page = displaypage - 1 })@:&nbsp;
                @Html.Label((displaypage).ToString())@:&nbsp;
                @Html.ActionLink((displaypage + 1).ToString(), "Prefecture", new { page = displaypage + 1 })@:&nbsp;
                @Html.ActionLink((displaypage + 2).ToString(), "Prefecture", new { page = displaypage + 2 })@:&nbsp;
                @Html.ActionLink((displaypage + 3).ToString(), "Prefecture", new { page = displaypage + 3 })@:&nbsp;
                @Html.ActionLink("下一頁", "Prefecture", new { page = displaypage + 1 })@:&nbsp;
                @Html.ActionLink(">|", "Prefecture", new { page = page })@:&nbsp;
        }
            else if (displaypage == page - 1)
            {
                @Html.ActionLink("|<", "Prefecture", new { page = displaypage - 1 })
                @Html.ActionLink("上一頁", "Prefecture", new { page = displaypage - 1 })@:&nbsp;
                @Html.ActionLink((displaypage - 3).ToString(), "Prefecture", new { page = displaypage - 3 })@:&nbsp;
                @Html.ActionLink((displaypage - 2).ToString(), "Prefecture", new { page = displaypage - 2 })@:&nbsp;
                @Html.ActionLink((displaypage - 1).ToString(), "Prefecture", new { page = displaypage - 1 })@:&nbsp;
                @Html.Label((displaypage).ToString())@:&nbsp;
                @Html.ActionLink((displaypage + 1).ToString(), "Prefecture", new { page = displaypage + 1 })@:&nbsp;
        }
            else
            {
                @Html.ActionLink("|<", "Prefecture", new { page = displaypage - 1 })@:&nbsp;
                @Html.ActionLink("上一頁", "Prefecture", new { page = displaypage - 1 })@:&nbsp;
                @Html.ActionLink((displaypage - 4).ToString(), "Prefecture", new { page = displaypage - 4 })@:&nbsp;
                @Html.ActionLink((displaypage - 3).ToString(), "Prefecture", new { page = displaypage - 3 })@:&nbsp;
                @Html.ActionLink((displaypage - 2).ToString(), "Prefecture", new { page = displaypage - 2 })@:&nbsp;
                @Html.ActionLink((displaypage - 1).ToString(), "Prefecture", new { page = displaypage - 1 })@:&nbsp;
                @Html.Label((displaypage).ToString())@:&nbsp;
        }
        }
        else
        {
            for (int i = 1; i <= page; i++)
            {
                if (i == displaypage)
                {
                    @Html.Label((displaypage).ToString())@:&nbsp;
                      }
                else
                {
                    @Html.ActionLink((i).ToString(), "Prefecture", new { page = i })@:&nbsp;
                    }
            }
        }
    </div>
</div>


